:host {
    display: inline-block;
    position: relative;
}

/* Hamburger Button */
.hamburger-button {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: var(--gooey-hamburgermenu-button-padding, var(--gooey-spacing-md));
    border: none;
    background: transparent;
    cursor: pointer;
    font-family: inherit;
    font-size: var(--gooey-hamburgermenu-button-font-size, var(--gooey-font-size-md));
    color: inherit;
}

.hamburger-button:hover {
    background-color: var(--gooey-hamburgermenu-button-hover-bg, rgba(0, 0, 0, 0.05));
}

.hamburger-button:focus {
    outline: var(--gooey-focus-width, 2px) var(--gooey-focus-style, solid) var(--gooey-hamburgermenu-focus-color, var(--gooey-color-focus));
    outline-offset: var(--gooey-focus-offset, 2px);
}

:host([disabled]) .hamburger-button {
    opacity: var(--gooey-hamburgermenu-opacity-disabled, var(--gooey-opacity-disabled));
    cursor: not-allowed;
}

/* Hamburger Icon (three bars) */
.hamburger-icon {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    width: 24px;
    height: 18px;
}

.hamburger-icon .bar {
    display: block;
    width: 100%;
    height: 3px;
    background-color: var(--gooey-hamburgermenu-bar-color, var(--gooey-color-text-muted));
    border-radius: var(--gooey-hamburgermenu-bar-radius, var(--gooey-border-radius));
    transition: transform 0.3s ease, opacity 0.3s ease;
}

/* Animated hamburger to X transformation when active */
:host([active]) .hamburger-icon .bar:nth-child(1) {
    transform: translateY(7.5px) rotate(45deg);
}

:host([active]) .hamburger-icon .bar:nth-child(2) {
    opacity: 0;
}

:host([active]) .hamburger-icon .bar:nth-child(3) {
    transform: translateY(-7.5px) rotate(-45deg);
}

/* Custom icon image */
.hamburger-icon img {
    width: 24px;
    height: 24px;
}

.hamburger-text {
    display: none;
}

.hamburger-text:not(:empty) {
    display: inline;
}

/* Backdrop overlay */
.hamburger-backdrop {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: var(--gooey-hamburgermenu-backdrop-bg, rgba(0, 0, 0, 0.5));
    z-index: 998;
}

:host([active]) .hamburger-backdrop {
    display: block;
}

/* Navigation Panel */
.hamburger-panel {
    position: fixed;
    background-color: var(--gooey-hamburgermenu-panel-bg, var(--gooey-color-surface-raised));
    box-shadow: var(--gooey-hamburgermenu-panel-shadow, var(--gooey-shadow-md));
    z-index: var(--gooey-hamburgermenu-panel-z-index, 999);
    transition: transform 0.3s ease;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
}

/* Position: Left (default) */
:host .hamburger-panel,
:host([position="left"]) .hamburger-panel {
    top: 0;
    left: 0;
    height: 100vh;
    width: var(--gooey-hamburgermenu-panel-width, var(--hamburger-panel-width, 250px));
    transform: translateX(-100%);
}

:host([active]) .hamburger-panel,
:host([position="left"][active]) .hamburger-panel {
    transform: translateX(0);
}

/* Position: Right */
:host([position="right"]) .hamburger-panel {
    top: 0;
    right: 0;
    left: auto;
    height: 100vh;
    width: var(--gooey-hamburgermenu-panel-width, var(--hamburger-panel-width, 250px));
    transform: translateX(100%);
    box-shadow: -2px 0 8px rgba(0, 0, 0, 0.2);
}

:host([position="right"][active]) .hamburger-panel {
    transform: translateX(0);
}

/* Position: Top */
:host([position="top"]) .hamburger-panel {
    top: 0;
    left: 0;
    width: 100vw;
    height: var(--gooey-hamburgermenu-panel-height, var(--hamburger-panel-height, auto));
    max-height: 80vh;
    transform: translateY(-100%);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

:host([position="top"][active]) .hamburger-panel {
    transform: translateY(0);
}

/* Position: Bottom */
:host([position="bottom"]) .hamburger-panel {
    bottom: 0;
    left: 0;
    top: auto;
    width: 100vw;
    height: var(--gooey-hamburgermenu-panel-height, var(--hamburger-panel-height, auto));
    max-height: 80vh;
    transform: translateY(100%);
    box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.2);
}

:host([position="bottom"][active]) .hamburger-panel {
    transform: translateY(0);
}

/* Panel Header */
.panel-header {
    display: flex;
    justify-content: flex-end;
    padding: 8px;
    border-bottom: 1px solid var(--gooey-hamburgermenu-header-border-color, var(--gooey-color-border-light));
    flex-shrink: 0;
}

.close-button {
    padding: 4px 12px;
    border: none;
    background: transparent;
    font-size: 24px;
    cursor: pointer;
    color: var(--gooey-hamburgermenu-close-color, #666);
    line-height: 1;
}

.close-button:hover {
    color: var(--gooey-hamburgermenu-close-hover-color, var(--gooey-color-text-muted));
    background-color: var(--gooey-hamburgermenu-close-hover-bg, rgba(0, 0, 0, 0.05));
}

.close-button:focus {
    outline: var(--gooey-focus-width, 2px) var(--gooey-focus-style, solid) var(--gooey-hamburgermenu-focus-color, var(--gooey-color-focus));
    outline-offset: var(--gooey-focus-offset, 2px);
}

/* Panel Content */
.panel-content {
    padding: 8px 0;
    flex: 1;
    overflow-y: auto;
}

/* Slotted MenuItem styling */
::slotted(gooeyui-menuitem) {
    display: block;
    width: 100%;
}

::slotted(gooeyui-menuitemseparator) {
    display: block;
    width: 100%;
}
